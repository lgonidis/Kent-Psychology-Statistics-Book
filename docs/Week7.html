<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 7 Lab Session 5 | Kent-Psychology-Statistics-Book.utf8</title>
  <meta name="description" content="This is a work in progress so make sure you access it online and do not rely on the pdf." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 7 Lab Session 5 | Kent-Psychology-Statistics-Book.utf8" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a work in progress so make sure you access it online and do not rely on the pdf." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 7 Lab Session 5 | Kent-Psychology-Statistics-Book.utf8" />
  
  <meta name="twitter:description" content="This is a work in progress so make sure you access it online and do not rely on the pdf." />
  

<meta name="author" content="Lazaros Gonidis" />


<meta name="date" content="2020-09-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Week6.html"/>

<script src="libs/header-attrs-2.4/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SP300 Lab Sessions</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="Week2.html"><a href="Week2.html"><i class="fa fa-check"></i><b>2</b> Lab Session 1</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Week2.html"><a href="Week2.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="Week2.html"><a href="Week2.html#getting-things-ready"><i class="fa fa-check"></i><b>2.2</b> Getting Things Ready</a></li>
<li class="chapter" data-level="2.3" data-path="Week2.html"><a href="Week2.html#starting-with-rstudio"><i class="fa fa-check"></i><b>2.3</b> Starting with RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="Week2.html"><a href="Week2.html#console"><i class="fa fa-check"></i><b>2.4</b> Console</a></li>
<li class="chapter" data-level="2.5" data-path="Week2.html"><a href="Week2.html#environment"><i class="fa fa-check"></i><b>2.5</b> Environment</a></li>
<li class="chapter" data-level="2.6" data-path="Week2.html"><a href="Week2.html#files"><i class="fa fa-check"></i><b>2.6</b> Files</a></li>
<li class="chapter" data-level="2.7" data-path="Week2.html"><a href="Week2.html#scripts"><i class="fa fa-check"></i><b>2.7</b> Scripts</a></li>
<li class="chapter" data-level="2.8" data-path="Week2.html"><a href="Week2.html#exercise"><i class="fa fa-check"></i><b>2.8</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Week3.html"><a href="Week3.html"><i class="fa fa-check"></i><b>3</b> Lab Session 2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Week3.html"><a href="Week3.html#learning-objectives-1"><i class="fa fa-check"></i><b>3.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="Week3.html"><a href="Week3.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="Week3.html"><a href="Week3.html#creating-vectors-with-random-numbers"><i class="fa fa-check"></i><b>3.3</b> Creating vectors with random numbers</a></li>
<li class="chapter" data-level="3.4" data-path="Week3.html"><a href="Week3.html#frequency-tables-in-r-and-histograms"><i class="fa fa-check"></i><b>3.4</b> Frequency tables in R and Histograms</a></li>
<li class="chapter" data-level="3.5" data-path="Week3.html"><a href="Week3.html#exercise-2"><i class="fa fa-check"></i><b>3.5</b> Exercise 2</a></li>
<li class="chapter" data-level="3.6" data-path="Week3.html"><a href="Week3.html#exercise-3"><i class="fa fa-check"></i><b>3.6</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Week4.html"><a href="Week4.html"><i class="fa fa-check"></i><b>4</b> Lab Session 3</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Week4.html"><a href="Week4.html#what-we-have-learnt-so-far"><i class="fa fa-check"></i><b>4.1</b> What we have learnt so far</a></li>
<li class="chapter" data-level="4.2" data-path="Week4.html"><a href="Week4.html#learning-objectives-2"><i class="fa fa-check"></i><b>4.2</b> Learning objectives</a></li>
<li class="chapter" data-level="4.3" data-path="Week4.html"><a href="Week4.html#lets-get-started"><i class="fa fa-check"></i><b>4.3</b> Letâ€™s get started</a></li>
<li class="chapter" data-level="4.4" data-path="Week4.html"><a href="Week4.html#measures-of-central-tendency"><i class="fa fa-check"></i><b>4.4</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="4.5" data-path="Week4.html"><a href="Week4.html#adding-a-new-package"><i class="fa fa-check"></i><b>4.5</b> Adding a new package</a></li>
<li class="chapter" data-level="4.6" data-path="Week4.html"><a href="Week4.html#to-sum-up"><i class="fa fa-check"></i><b>4.6</b> To sum up</a></li>
<li class="chapter" data-level="4.7" data-path="Week4.html"><a href="Week4.html#additional-exercises-spoiler-alert-if-you-get-stuck-the-answers-are-at-the-end-of-the-pdf"><i class="fa fa-check"></i><b>4.7</b> Additional Exercises (spoiler alert: if you get stuck the answers are at the end of the pdf)</a></li>
<li class="chapter" data-level="4.8" data-path="Week4.html"><a href="Week4.html#solutions-spoiler-alert"><i class="fa fa-check"></i><b>4.8</b> Solutions: SPOILER ALERT</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Week5.html"><a href="Week5.html"><i class="fa fa-check"></i><b>5</b> No Session in Week 5</a></li>
<li class="chapter" data-level="6" data-path="Week6.html"><a href="Week6.html"><i class="fa fa-check"></i><b>6</b> Lab Session 4</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Week6.html"><a href="Week6.html#what-we-have-learnt-so-far-1"><i class="fa fa-check"></i><b>6.1</b> What we have learnt so far</a></li>
<li class="chapter" data-level="6.2" data-path="Week6.html"><a href="Week6.html#learning-objectives-3"><i class="fa fa-check"></i><b>6.2</b> Learning objectives</a></li>
<li class="chapter" data-level="6.3" data-path="Week6.html"><a href="Week6.html#lets-get-started-1"><i class="fa fa-check"></i><b>6.3</b> Letâ€™s get started</a></li>
<li class="chapter" data-level="6.4" data-path="Week6.html"><a href="Week6.html#range-interquartile-range-median-and-relevant-plots"><i class="fa fa-check"></i><b>6.4</b> Range, Interquartile Range, Median, and Relevant Plots</a></li>
<li class="chapter" data-level="6.5" data-path="Week6.html"><a href="Week6.html#exploring-data-using-boxplots"><i class="fa fa-check"></i><b>6.5</b> Exploring data using boxplots</a></li>
<li class="chapter" data-level="6.6" data-path="Week6.html"><a href="Week6.html#exploring-data-using-barcharts"><i class="fa fa-check"></i><b>6.6</b> Exploring data using barcharts</a></li>
<li class="chapter" data-level="6.7" data-path="Week6.html"><a href="Week6.html#exercises"><i class="fa fa-check"></i><b>6.7</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="Week6.html"><a href="Week6.html#exercise-1"><i class="fa fa-check"></i><b>6.7.1</b> Exercise 1</a></li>
<li class="chapter" data-level="6.7.2" data-path="Week6.html"><a href="Week6.html#exercise-2-1"><i class="fa fa-check"></i><b>6.7.2</b> Exercise 2</a></li>
<li class="chapter" data-level="6.7.3" data-path="Week6.html"><a href="Week6.html#exercise-3-1"><i class="fa fa-check"></i><b>6.7.3</b> Exercise 3</a></li>
<li class="chapter" data-level="6.7.4" data-path="Week6.html"><a href="Week6.html#exercise-4"><i class="fa fa-check"></i><b>6.7.4</b> Exercise 4</a></li>
<li class="chapter" data-level="6.7.5" data-path="Week6.html"><a href="Week6.html#exercise-5"><i class="fa fa-check"></i><b>6.7.5</b> Exercise 5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Week7.html"><a href="Week7.html"><i class="fa fa-check"></i><b>7</b> Lab Session 5</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Week7.html"><a href="Week7.html#before-you-proceed-for-this-lab-session"><i class="fa fa-check"></i><b>7.1</b> Before you proceed for this lab session</a></li>
<li class="chapter" data-level="7.2" data-path="Week7.html"><a href="Week7.html#learning-objectives-4"><i class="fa fa-check"></i><b>7.2</b> Learning objectives</a></li>
<li class="chapter" data-level="7.3" data-path="Week7.html"><a href="Week7.html#load-our-own-data"><i class="fa fa-check"></i><b>7.3</b> Load our own data</a></li>
<li class="chapter" data-level="7.4" data-path="Week7.html"><a href="Week7.html#working-with-our-data"><i class="fa fa-check"></i><b>7.4</b> Working with our data</a></li>
<li class="chapter" data-level="7.5" data-path="Week7.html"><a href="Week7.html#creating-a-new-dataset-and-executing-all-correlations-at-once"><i class="fa fa-check"></i><b>7.5</b> Creating a new dataset and executing all correlations at once</a></li>
<li class="chapter" data-level="7.6" data-path="Week7.html"><a href="Week7.html#exercise-6"><i class="fa fa-check"></i><b>7.6</b> Exercise</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Week7" class="section level1" number="7">
<h1><span class="header-section-number">Week 7</span> Lab Session 5</h1>
<div id="before-you-proceed-for-this-lab-session" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Before you proceed for this lab session</h2>
<p>In order to use your lab time more efficiently, make sure you complete the following steps first.<br />
1. Open RStudio<br />
2. Create a new Project. <strong>File &gt; New Project &gt; New Directory &gt; New Project Then click on Browse and select your Desktop, for Directory Name type in Week 7 Lab. Then click on Create Project.</strong><br />
3. Go on moodle on the SP300 page, in Week 6. In the lab section there are two files, <strong>internet.csv</strong> and <strong>exercisew7.csv</strong>. Download both files and save them or copy them in your <strong>Week 7 Lab</strong> folder that is on your desktop. <strong>IF YOU ARE A MAC USER PLEASE USE CHROME AND NOT SAFARI.</strong><br />
4. If you have done everything right, you should be able to see both files at the mottom right window in your RStudio, if the tab <strong>Files</strong>.<br />
5. Create a new script and save it as <strong>week7</strong>. Then type in the following commands and run them.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="Week7.html#cb55-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb55-2"><a href="Week7.html#cb55-2"></a><span class="kw">library</span>(correlation)</span>
<span id="cb55-3"><a href="Week7.html#cb55-3"></a><span class="kw">library</span>(ggpubr)</span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>If you get any <strong>warning messages</strong> that is fine.<br />
</li>
<li>If you get an error for a specific package then you probably have not installed it yet. You can install it if you run <code>install.packages("packagename")</code> in your console.<br />
</li>
<li>Please check your group membership before coming to the lab.<br />
</li>
<li>If for any reason you cannot see your relevant channel then click <strong>show hidden channels</strong>.<br />
</li>
<li>If for some reason you cannot join any of the meetings, then restart your Teams application and/or your computer.</li>
</ol>
</div>
<div id="learning-objectives-4" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Learning objectives</h2>
<ul>
<li><strong>load our own data files in RStudio</strong></li>
<li><strong>Use mutate() function to add new variables in the dataset</strong><br />
</li>
<li><strong>Create a scatterplot for our variables</strong></li>
<li><strong>Run correlation analysis to explore associations</strong></li>
<li><strong>Create new dataframes that will only contain the variables we want</strong></li>
<li><strong>Run multiple correlations in one step</strong></li>
</ul>
</div>
<div id="load-our-own-data" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Load our own data</h2>
<p>If you have already followed the steps above you should already have two data files in your folder. These are <strong>internet.csv</strong> and <strong>exercisew7.csv</strong>. We will execute the following script to load <strong>internet.csv</strong> and also get some useful initial summaries. The <strong>internet.csv</strong> contains data from a sudy that measured participants Internet use. If you have already created the <strong>week7 lab</strong> script above then just continue working from there. If not make sure you add the three lines above that contain the libraries.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="Week7.html#cb56-1"></a><span class="co">## load the file internet.csv and assign to a dataframe called df</span></span>
<span id="cb56-2"><a href="Week7.html#cb56-2"></a>df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;internet.csv&quot;</span>)</span>
<span id="cb56-3"><a href="Week7.html#cb56-3"></a></span>
<span id="cb56-4"><a href="Week7.html#cb56-4"></a><span class="co">## Let&#39;s have a quick look at our variables in df</span></span>
<span id="cb56-5"><a href="Week7.html#cb56-5"></a><span class="kw">summary</span>(df)</span></code></pre></div>
</div>
<div id="working-with-our-data" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Working with our data</h2>
<p>The variable id corresponds to participant id, the variable gender and age as self-explanatory. The variables <strong>use1</strong> to <strong>use6</strong> represent 6 questions with regards to the use of internet. The variables <strong>pre1</strong> to <strong>pre6</strong> represent 6 questions with regards to how preoccupied with thoughts about Internet someone is. The variables <strong>comfort1</strong> and <strong>comfort2</strong> are two questions with regards to how comforting someone finds the Internet to be. <strong>Days</strong> and <strong>hours</strong> represent how many days a week and how many hours a day someone spends on the Internet.</p>
<p>Even though we could run correlation analysis for each question this is not meaningful, in this case. What we want to do is calculate three new variables. One variable that would be the average use of internet (mean of use1 to use6), one variable that would be average preoccupation (mean of pre1 to pre6), and one variable that would be the average of comforting, mean of comfort1 and comfort2. So in reality we want to add three new columns to our dataframe that will include the results of the above three calculations.</p>
<p><strong>use_mean</strong>: mean of use1 to use6 for each participant
<strong>pre_mean</strong>: mean of pre1 to pre6 for each participant<br />
<strong>comf_mean</strong>: mean of comfort1 and comfort2 for each participant.
<strong>total_hr</strong>: the total amount of hours in a week
We can achieve the above with many different ways, for this term we will focus on using the function <strong>mutate()</strong>.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="Week7.html#cb57-1"></a><span class="co">## when using mutate, we have to declare the dataframe first</span></span>
<span id="cb57-2"><a href="Week7.html#cb57-2"></a><span class="co">## then give the name of the new variable</span></span>
<span id="cb57-3"><a href="Week7.html#cb57-3"></a><span class="co">## and then type in the calculation we want to do</span></span>
<span id="cb57-4"><a href="Week7.html#cb57-4"></a><span class="co">## the mean is nothing else than adding all variables</span></span>
<span id="cb57-5"><a href="Week7.html#cb57-5"></a><span class="co">## and then dividing by the number of variables</span></span>
<span id="cb57-6"><a href="Week7.html#cb57-6"></a><span class="co">## </span><span class="al">NOTE</span><span class="co">: you do not have to breat the mutate line in two lines</span></span>
<span id="cb57-7"><a href="Week7.html#cb57-7"></a><span class="co">## like below, we did that so it fits in the pdf width</span></span>
<span id="cb57-8"><a href="Week7.html#cb57-8"></a></span>
<span id="cb57-9"><a href="Week7.html#cb57-9"></a>df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df, </span>
<span id="cb57-10"><a href="Week7.html#cb57-10"></a>             <span class="dt">use_mean =</span> (use1 <span class="op">+</span><span class="st"> </span>use2 <span class="op">+</span><span class="st"> </span>use3 <span class="op">+</span><span class="st"> </span>use4 <span class="op">+</span><span class="st"> </span>use5 <span class="op">+</span><span class="st"> </span>use6)<span class="op">/</span><span class="dv">6</span>)</span>
<span id="cb57-11"><a href="Week7.html#cb57-11"></a></span>
<span id="cb57-12"><a href="Week7.html#cb57-12"></a></span>
<span id="cb57-13"><a href="Week7.html#cb57-13"></a>df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df, </span>
<span id="cb57-14"><a href="Week7.html#cb57-14"></a>             <span class="dt">pre_mean =</span> (pre1 <span class="op">+</span><span class="st"> </span>pre2 <span class="op">+</span><span class="st"> </span>pre3 <span class="op">+</span><span class="st"> </span>pre4 <span class="op">+</span><span class="st"> </span>pre5 <span class="op">+</span><span class="st"> </span>pre6)<span class="op">/</span><span class="dv">6</span>)</span>
<span id="cb57-15"><a href="Week7.html#cb57-15"></a></span>
<span id="cb57-16"><a href="Week7.html#cb57-16"></a></span>
<span id="cb57-17"><a href="Week7.html#cb57-17"></a>df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df, </span>
<span id="cb57-18"><a href="Week7.html#cb57-18"></a>             <span class="dt">comf_mean =</span> (comfort1 <span class="op">+</span><span class="st"> </span>comfort2)<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb57-19"><a href="Week7.html#cb57-19"></a></span>
<span id="cb57-20"><a href="Week7.html#cb57-20"></a><span class="co">## we can also do any other type of arithmetic calculation</span></span>
<span id="cb57-21"><a href="Week7.html#cb57-21"></a><span class="co">## for example total_hr = days * hours</span></span>
<span id="cb57-22"><a href="Week7.html#cb57-22"></a>df &lt;-<span class="st"> </span><span class="kw">mutate</span>(df, </span>
<span id="cb57-23"><a href="Week7.html#cb57-23"></a>             <span class="dt">total_hr =</span> days<span class="op">*</span>hours)</span></code></pre></div>
<p>We can now create simple scatterplots between between our newly created variables. Below, we only give you only one example but try to complete the rest on your own. We can also carry out a correlation analysis between two variables. Again, we give you only one example, you should do the rest on your own during the lab session.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="Week7.html#cb58-1"></a><span class="co">## a simple scatterplot between use_mean and pre_mean</span></span>
<span id="cb58-2"><a href="Week7.html#cb58-2"></a><span class="kw">ggscatter</span>(df, <span class="dt">x =</span> <span class="st">&quot;use_mean&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;pre_mean&quot;</span>)</span>
<span id="cb58-3"><a href="Week7.html#cb58-3"></a></span>
<span id="cb58-4"><a href="Week7.html#cb58-4"></a><span class="co">## a simple correlation analysis between </span></span>
<span id="cb58-5"><a href="Week7.html#cb58-5"></a><span class="kw">cor_test</span>(<span class="dt">data =</span> df, </span>
<span id="cb58-6"><a href="Week7.html#cb58-6"></a>         <span class="dt">x =</span> <span class="st">&quot;use_mean&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;pre_mean&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;pearson&quot;</span>)</span>
<span id="cb58-7"><a href="Week7.html#cb58-7"></a></span>
<span id="cb58-8"><a href="Week7.html#cb58-8"></a><span class="co">## change the code as needed to see output for different pairs of </span></span>
<span id="cb58-9"><a href="Week7.html#cb58-9"></a><span class="co">## variables. You should have all pairs of Use_mean, pre_mean, comf_mean, ##  and total_hr</span></span></code></pre></div>
</div>
<div id="creating-a-new-dataset-and-executing-all-correlations-at-once" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Creating a new dataset and executing all correlations at once</h2>
<p>As you have seen above it is quite a lot of work to keep typing the same code for each pair of variables. One way to overcome this is to use the function, correlation(). This function, takes as an input our entire dataframe and runs correlations for all the existing variables. The problem with this approach is that our dataframe may also have variables that we do not want to include. An easy way to fix this would be to create a new dataframe that only contains the variables we need. Then run correlation on the new dataframe. We can do that by using the function select() and declare the variables we want to copy to the new dataframe.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="Week7.html#cb59-1"></a><span class="co">## first we declate that our dataframe is df</span></span>
<span id="cb59-2"><a href="Week7.html#cb59-2"></a><span class="co">## then we declare the variables we want to copy over</span></span>
<span id="cb59-3"><a href="Week7.html#cb59-3"></a><span class="co">## to the new dataframe which we can give any name we want.</span></span>
<span id="cb59-4"><a href="Week7.html#cb59-4"></a>df2 &lt;-<span class="st"> </span><span class="kw">select</span>(df, use_mean, pre_mean, comf_mean, total_hr)</span>
<span id="cb59-5"><a href="Week7.html#cb59-5"></a></span>
<span id="cb59-6"><a href="Week7.html#cb59-6"></a><span class="kw">summary</span>(df2)</span></code></pre></div>
<p>Running the above code would create a new dataframe called **df2*. We can now run all the correlations between our four variables.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="Week7.html#cb60-1"></a><span class="co">## all we have to do is declare the dataframe name</span></span>
<span id="cb60-2"><a href="Week7.html#cb60-2"></a><span class="co">## in the correlation function</span></span>
<span id="cb60-3"><a href="Week7.html#cb60-3"></a></span>
<span id="cb60-4"><a href="Week7.html#cb60-4"></a><span class="kw">correlation</span>(<span class="dt">data =</span> df2, <span class="dt">method =</span> <span class="st">&quot;pearson&quot;</span>)</span></code></pre></div>
<p>If you observe the output you will see that we have a row for each pair of variables.</p>
</div>
<div id="exercise-6" class="section level2" number="7.6">
<h2><span class="header-section-number">7.6</span> Exercise</h2>
<p>Create the appropriate script that would allow you to load the datafile <strong>exercisew7.csv</strong>. This file contains the following columns:
att1,att2,att3,bel1,bel2,bel3,bel4,stance1,stance2,stance3,stance4,ethic1,ethic2,ethic3. You should create new variables that would be the average of the following:</p>
<ol style="list-style-type: decimal">
<li>att_mean: att1, att2, att3<br />
</li>
<li>bel_mean: bel1, bel2, bel3, bel4</li>
<li>stance_mean: bel1, bel2, bel3, bel4<br />
</li>
<li>ethic_mean: ethic1, ethic2, ethic3</li>
</ol>
<p>Then explore correlations by creating scatterplots for the above four variables.<br />
Also, create a new datafile that will only include these four variables and run all correlations at once using the new dataframe.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Week6.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Kent Psychology Statistics Book.pdf", "Kent Psychology Statistics Book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
